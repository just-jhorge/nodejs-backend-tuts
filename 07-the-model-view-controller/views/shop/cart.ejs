<!DOCTYPE html>
<html lang="en">
  <%- include('../includes/head.ejs') %>
  <body>
    <%- include('../includes/nav.ejs') %>

    <main class="max-w-6xl p-4 lg:p-0 mx-auto min-h-[calc(100svh-3.5rem)] py-4">
      <h1 class="text-xl font-semibold mb-5">Cart Page</h1>
      <% if (products.length > 0) { %>
      <ul>
        <% products.forEach(p => { %>
        <li
          class="w-full flex items-center justify-between gap-3 last:border-0 border-b py-4"
        >
          <p class="text-lg"><%= p.productData.title %> (<%= p.qty %>)</p>
          <form action="/cart-delete-item" method="post">
            <input
              type="hidden"
              name="productId"
              value="<%= p.productData.id %>"
            />
            <button
              type="submit"
              class="px-5 py-2 bg-red-600 text-white rounded-md"
            >
              Delete
            </button>
          </form>
        </li>
        <% }) %>
      </ul>
      <% } else { %>
      <h3>No products in cart!</h3>
      <% } %>
    </main>
  </body>
</html>
